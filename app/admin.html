<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>ğŸ› ï¸ Panel Administrador â€“ ğŸ“šPEVE</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="../assets/css/style.css" />
</head>
<body class="theme-dark">

  <!-- HEADER GLOBAL -->
  <header class="topbar">
    <div class="topbar-left">
      <div class="logo-circle">ğŸ“š</div>
      <div class="brand-text">
        <span class="brand-name">PEVE</span>
        <span class="brand-subtitle">Panel de administraciÃ³n</span>
      </div>
    </div>

    <nav class="topbar-nav" aria-label="NavegaciÃ³n principal">
      <a href="../index.html" class="nav-link">Inicio</a>
      <a href="../pages/asignaturas.html" class="nav-link">Asignaturas</a>
      <span class="nav-link nav-link-active">Administrador</span>
      <a href="./informes.html" class="nav-link">Informes</a>
    </nav>

    <div class="accessibility-toolbar" aria-label="Controles de accesibilidad">
      <button class="access-btn btn-icon" data-action="toggle-theme" aria-label="Cambiar tema claro/oscuro">ğŸŒ“</button>
      <button class="access-btn btn-icon" data-action="font-dec" aria-label="Disminuir tamaÃ±o de letra">Aâˆ’</button>
      <button class="access-btn btn-icon" data-action="font-inc" aria-label="Aumentar tamaÃ±o de letra">A+</button>
      <button class="access-btn btn-icon" data-action="narrator" aria-label="Activar narrador">ğŸ”Š</button>
    </div>
  </header>

  <!-- CONTENIDO PRINCIPAL -->
  <main id="main-content" class="page">

    <!-- BLOQUE LOGIN ADMIN -->
    <section id="admin-login-section" class="section">
      <div class="section-header">
        <h1>Acceso administrador PEVE</h1>
        <p class="page-lead">
          Inicia sesiÃ³n con tu cuenta autorizada para gestionar usuarios, credenciales e informes de resultados.
        </p>
      </div>

      <div class="login-layout">
        <article class="login-card login-card-admin" style="max-width: 420px;">
          <h2>ğŸ› ï¸ Administrador PEVE</h2>
          <p>
            Solo cuentas autorizadas: Neotech EduLab y coordinaciÃ³n PEVE.
          </p>

          <form class="login-form" id="admin-login-form">
            <label>
              Correo administrador
              <input type="email" name="email" placeholder="admin@peve.cl" required />
            </label>
            <label>
              ContraseÃ±a
              <input type="password" name="password" placeholder="********" required />
            </label>
            <button class="login-btn" type="submit">Ingresar</button>
            <p class="note login-error" id="admin-login-error" aria-live="polite"></p>
          </form>
        </article>
      </div>
    </section>

    <!-- BLOQUE PANEL ADMIN (SOLO SI ESTÃ LOGUEADO) -->
    <section id="admin-panel-section" class="section" style="display:none;">
      <div class="section-header">
        <h1>Panel administrador</h1>
        <p class="page-lead">
          Gestiona usuarios PEVE, envÃ­a credenciales y accede al mÃ³dulo de informes (resultados, DIA y KPSI).
        </p>
      </div>

      <!-- RESUMEN SUPERIOR -->
      <div class="dashboard-grid">
        <article class="card">
          <h3>ğŸ‘¥ Usuarios PEVE</h3>
          <p class="note">
            Total de estudiantes cargados desde la hoja <code>PEVE_Usuarios</code>.
          </p>
          <p><strong id="admin-total-users">â€“</strong> estudiante(s)</p>
        </article>

        <article class="card">
          <h3>ğŸ“© EnvÃ­o de credenciales</h3>
          <p class="note">
            Selecciona un estudiante en la tabla y utiliza los botones para enviar las credenciales por correo o WhatsApp al apoderado.
          </p>
        </article>

        <article class="card">
          <h3>ğŸ“Š Informes y resultados</h3>
          <p class="note">
            Visualiza resultados por curso, asignatura, DIA y KPSI desde el mÃ³dulo de informes.
          </p>
          <a href="./informes.html" class="btn btn-outline btn-card">Ir a informes</a>
        </article>
      </div>

      <!-- TABLA DE USUARIOS PEVE -->
      <section class="section">
        <div class="section-header">
          <h2>GestiÃ³n de usuarios PEVE</h2>
          <p>
            Datos sincronizados desde la hoja <code>PEVE_Usuarios</code> (o datos demo mientras se configura la API de Google Sheets).
          </p>
        </div>

        <div class="table-wrapper">
          <table class="temario-table" id="admin-users-table">
            <thead>
              <tr>
                <th>ID PEVE</th>
                <th>Estudiante</th>
                <th>RUT</th>
                <th>Curso 2025</th>
                <th>Llamado</th>
                <th>Correo estudiante</th>
                <th>Apoderado</th>
                <th>Correo apoderado</th>
                <th>TelÃ©fono apoderado</th>
                <th>Estado</th>
                <th>Acciones</th>
              </tr>
            </thead>
            <tbody>
              <!-- Filas dinÃ¡micas desde admin.js -->
            </tbody>
          </table>
        </div>
      </section>
    </section>
  </main>

  <!-- FOOTER + JS -->
  <script src="../assets/js/accesibilidad.js" defer></script>
  <script src="../assets/js/footer.js" defer></script>
  <script src="../assets/js/admin.js" defer></script>
</body>
</html>
