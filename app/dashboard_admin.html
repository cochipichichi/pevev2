<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>ğŸ› ï¸ Panel Administrador â€“ ğŸ“šPEVE</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="../assets/css/style.css" />
</head>
<body class="theme-dark">

  <!-- GUARDIA DE SESIÃ“N ADMIN -->
  <script>
    (function () {
      try {
        const isAdmin = sessionStorage.getItem("adminLogged") === "1";
        if (!isAdmin) {
          // Si no estÃ¡ logueado como admin, volver al login general
          window.location.href = "./login.html";
        }
      } catch (e) {
        window.location.href = "./login.html";
      }
    })();
  </script>

  <!-- HEADER GLOBAL -->
  <header class="topbar">
    <div class="topbar-left">
      <div class="logo-circle">ğŸ“š</div>
      <div class="brand-text">
        <span class="brand-name">PEVE</span>
        <span class="brand-subtitle">Panel de administraciÃ³n</span>
      </div>
    </div>

    <nav class="topbar-nav" aria-label="NavegaciÃ³n principal">
      <a href="../index.html" class="nav-link">Inicio</a>
      <a href="../pages/asignaturas.html" class="nav-link">Asignaturas</a>
      <span class="nav-link nav-link-active">Administrador</span>
      <a href="./informes.html" class="nav-link">Informes</a>
    </nav>

    <div class="accessibility-toolbar" aria-label="Controles de accesibilidad">
      <button class="access-btn btn-icon" data-action="toggle-theme" aria-label="Cambiar tema claro/oscuro">ğŸŒ“</button>
      <button class="access-btn btn-icon" data-action="font-dec" aria-label="Disminuir tamaÃ±o de letra">Aâˆ’</button>
      <button class="access-btn btn-icon" data-action="font-inc" aria-label="Aumentar tamaÃ±o de letra">A+</button>
      <button class="access-btn btn-icon" data-action="narrator" aria-label="Activar narrador">ğŸ”Š</button>
    </div>
  </header>

  <!-- CONTENIDO PRINCIPAL -->
  <main id="main-content" class="page">
    <section class="section">
      <div class="section-header">
        <h1>Panel administrador</h1>
        <p class="page-lead">
          Gestiona usuarios PEVE, envÃ­a credenciales y accede al mÃ³dulo de informes (resultados, DIA y KPSI).
        </p>
      </div>

      <!-- RESUMEN SUPERIOR -->
      <div class="dashboard-grid">
        <article class="card">
          <h3>ğŸ‘¥ Usuarios PEVE</h3>
          <p class="note">
            Total de estudiantes cargados desde la hoja <code>PEVE_Usuarios</code>.
          </p>
          <p><strong id="admin-total-users">â€“</strong> estudiante(s)</p>
        </article>

        <article class="card">
          <h3>ğŸ“© EnvÃ­o de credenciales</h3>
          <p class="note">
            Selecciona un estudiante en la tabla y utiliza los botones para enviar las credenciales por correo o WhatsApp al apoderado.
          </p>
        </article>

        <article class="card">
          <h3>ğŸ“Š Informes y resultados</h3>
          <p class="note">
            Visualiza resultados por curso, asignatura, DIA y KPSI desde el mÃ³dulo de informes.
          </p>
          <a href="./informes.html" class="btn btn-outline btn-card">Ir a informes</a>
        </article>
      </div>

      <!-- TABLA DE USUARIOS PEVE -->
      <section class="section">
        <div class="section-header">
          <h2>GestiÃ³n de usuarios PEVE</h2>
          <p>
            Datos sincronizados desde la hoja <code>PEVE_Usuarios</code> (o datos demo mientras se configura la API de Google Sheets).
          </p>
        </div>

        <div class="table-wrapper">
          <table class="temario-table" id="admin-users-table">
            <thead>
              <tr>
                <th>ID PEVE</th>
                <th>Estudiante</th>
                <th>RUT</th>
                <th>Curso 2025</th>
                <th>Llamado</th>
                <th>Correo estudiante</th>
                <th>Apoderado</th>
                <th>Correo apoderado</th>
                <th>TelÃ©fono apoderado</th>
                <th>Estado</th>
                <th>Acciones</th>
              </tr>
            </thead>
            <tbody>
              <!-- Filas dinÃ¡micas desde admin.js -->
            </tbody>
          </table>
        </div>
      </section>
    </section>
  </main>

  <!-- FOOTER + JS -->
  <script src="../assets/js/accesibilidad.js" defer></script>
  <script src="../assets/js/footer.js" defer></script>
  <script src="../assets/js/admin.js" defer></script>

<footer class="footer small">
    <div class="footer-inner">
 <div class="footer-bar">
    <div class="logo"><img src="assets/logo.svg" alt="Neotech EduLab" class="logo-img" onerror="this.style.display='none'">
      <div><strong>Â© <strong>Neotech EduLab</strong>-EducaciÃ³n Inmersiva</div>
      <small>ğŸ› ï¸Prohibida su copia y/o reproducciÃ³n</small>
    </div>
        
      </div>
      <div class="footer-text">

        <p>Â© 2025 <strong>ğŸ“šPEVE</strong> â€“ Plataforma de ExÃ¡menes de ValidaciÃ³n de Estudios Â· Hecho con â¤ï¸ y enfoque inclusivo.</p>
        <p class="footer-note">
          PEVE es un recurso pedagÃ³gico complementario. La inscripciÃ³n, rendiciÃ³n y certificaciÃ³n de ExÃ¡menes Libres
          depende exclusivamente del Ministerio de EducaciÃ³n de Chile y sus canales oficiales.
        </p>
      </div>
    </div>
  </footer>
  </body>
</html>
