
/* === Themes (v6.1) === */
:root[data-theme="light"]{--bg:#ffffff;--bg-soft:#f6f8fa;--text:#0f172a;--muted:#475569;--accent:#0ea5e9;--ok:#16a34a;--warn:#d97706;--danger:#dc2626;--btn:#e5e7eb;}
:root[data-theme="dark"]{--bg:#0c0f10;--bg-soft:#12161a;--text:#e8f0f7;--muted:#9fb3c8;--accent:#67e8f9;--ok:#34d399;--warn:#f59e0b;--danger:#f87171;--btn:#1f2937;}
:root[data-theme="high"]{--bg:#000;--bg-soft:#000;--text:#fff;--muted:#e5e7eb;--accent:#0ff;--ok:#0f6;--warn:#fc0;--danger:#f44;--btn:#000;}
:root[data-theme="sepia"]{--bg:#fdf6e3;--bg-soft:#f7f2df;--text:#3b2f2f;--muted:#675b4d;--accent:#b58900;--ok:#2f855a;--warn:#b7791f;--danger:#c53030;--btn:#efe5cc;}
body{background:var(--bg);color:var(--text);}
/* Theme menu */
.theme-switcher{position:relative;display:inline-block}
.theme-menu{position:absolute;right:0;top:2.4rem;background:var(--bg-soft);border:1px solid #2b3441;border-radius:.5rem;padding:.35rem;display:flex;flex-direction:column;min-width:200px;z-index:90;box-shadow:0 10px 30px rgba(0,0,0,.35)}
.theme-menu.hidden{display:none}
.theme-menu button{background:none;border:none;color:var(--text);text-align:left;padding:.5rem .8rem;cursor:pointer;border-radius:.35rem}
.theme-menu button:hover,.theme-menu button:focus{background:var(--accent);color:var(--bg);outline:2px solid transparent}
/* Show menu on hover of switcher (optional) */
.theme-switcher:hover .theme-menu{display:flex}

:root{
  --bg:#0c0f10;
  --bg-soft:#12161a;
  --text:#e8f0f7;
  --muted:#9fb3c8;
  --accent:#67e8f9;
  --ok:#34d399;
  --warn:#f59e0b;
  --danger:#f87171;
  --btn:#1f2937;
  font-size:16px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial;
  background:radial-gradient(1200px 800px at 20% -10%,#19222c 0%,#0c0f10 40%) no-repeat var(--bg);
  color:var(--text);
  line-height:1.6;
}

a{color:var(--accent);text-decoration:none}
a:hover{text-decoration:underline}

.header{
  position:relative;
  padding:2rem 1rem 1rem;
  text-align:center;
}
.hero{
  max-width:1000px;
  margin:0 auto;
  padding:1.5rem;
  background:linear-gradient(135deg,#0f172a 0%,#0b1320 100%);
  border:1px solid #192436;
  border-radius:1rem;
  box-shadow: 0 20px 60px rgba(0,0,0,.35);
}
.hero h1{font-size:clamp(1.6rem,3vw,2.4rem);margin:.2rem 0}
.hero p{color:var(--muted);margin:.2rem 0 1rem}

.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:1rem;
  margin:1.5rem auto;
  max-width:1100px;
  padding:0 1rem;
}

.card{
  background:var(--bg-soft);
  border:1px solid #1f2a37;
  border-radius:1rem;
  padding:1rem;
  box-shadow:0 10px 30px rgba(0,0,0,.25);
}
.card h3{margin-top:.2rem}

.btn{
  display:inline-flex;align-items:center;gap:.5rem;
  background:var(--btn);
  color:#fff;border:1px solid #2b3441;
  padding:.75rem 1rem;border-radius:.75rem;
  transition:transform .08s ease, box-shadow .2s ease;
}
.btn:hover{transform:translateY(-1px);box-shadow:0 10px 24px rgba(0,0,0,.25)}
.btn:active{transform:translateY(0) scale(.98)}

.btn-row{display:flex;flex-wrap:wrap;gap:.5rem;margin-top:.6rem}

.section{max-width:1100px;margin:2rem auto;padding:0 1rem}
.section h2{margin:.2rem 0 1rem}

.footer{
  margin-top:3rem;
  border-top:1px solid #1c2532;
  padding:1.25rem;
  text-align:center;
  color:var(--muted);
  font-size:.95rem;
}

/* Controls bar */
.controls{
  position:sticky; top:0; z-index:50;
  display:flex; flex-wrap:wrap; gap:.5rem;
  background:rgba(12,15,16,.7); 
  backdrop-filter: blur(10px);
  padding:.5rem; border-bottom:1px solid #1f2a37;
}
.control-title{display:flex;gap:.5rem;align-items:center;font-weight:600;margin-right:.5rem}
.controls .spacer{flex:1}
.control-btn{
  display:inline-flex; align-items:center; justify-content:center;
  gap:.4rem; padding:.55rem .7rem; background:#10151b; color:#fff;
  border:1px solid #1f2a37; border-radius:.6rem; cursor:pointer;
  min-width:2.2rem;
}
.control-btn[aria-pressed="true"]{outline:2px solid var(--accent);}

/* High contrast */
.high-contrast{
  --bg:#000; --bg-soft:#000; --text:#fff; --muted:#ddd; --btn:#000;
  background:#000 !important; color:#fff !important;
}
.high-contrast *{border-color:#fff33 !important}
.high-contrast a{color:#0ff}

/* Reading ruler */
.ruler{position:fixed; left:0; width:100vw; height:2.2rem; 
  background:rgba(255,255,255,.06); border-top:1px dashed #94a3b833;
  border-bottom:1px dashed #94a3b833; pointer-events:none; display:none}
.ruler.show{display:block}

/* Modal */
.modal{position:fixed; inset:0; display:none; align-items:center; justify-content:center; background:rgba(0,0,0,.5); z-index:60}
.modal.show{display:flex}
.modal .box{background:#0f1520; border:1px solid #1f2a37; border-radius:1rem; padding:1rem; max-width:900px; max-height:80vh; overflow:auto}
.modal h3{margin-top:.4rem}
.modal .close{float:right; cursor:pointer; font-size:1.2rem}

.badge{display:inline-flex;align-items:center;gap:.35rem;padding:.25rem .5rem;border:1px solid #203040;border-radius:999px;font-size:.85rem;background:#0e1723;color:#cde3ff}
kbd{background:#111827;border:1px solid #334155;border-radius:.35rem;padding:.1rem .35rem}
