<!doctype html><html lang="es"><head>
  <meta name="theme-color" content="#0c0f10"><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>ğŸ“Š Panel docente â€” OA2</title><link rel="stylesheet" href="style.css"><script type="module">import { SHEETS_READ_ENDPOINT } from "./js/config.js"; window.__READ = SHEETS_READ_ENDPOINT;</script></head><body><nav class="controls"><a class="control-btn" href="index.html">ğŸ </a><button class="control-btn" onclick="handleSpeak()">ğŸ—£ï¸</button></nav><main class="section" id="intro"><h1>ğŸ“Š Panel docente â€” OA2</h1><div class="card"><div class="btn-row"><button class="btn" onclick="loadData()">ğŸ”„ Actualizar</button><span id="status" class="badge">Listo</span></div><div id="stats" class="grid" style="grid-template-columns:repeat(auto-fit,minmax(220px,1fr));margin-top:1rem"></div><div class="card" style="margin-top:1rem;overflow:auto"><table id="tbl" style="width:100%;border-collapse:collapse"><thead><tr><th>Fecha</th><th>Nombre</th><th>Email</th><th>Puntaje</th><th>Tiempo (s)</th><th>UA</th></tr></thead><tbody></tbody></table></div></div></main><script src="js/script.js"></script><script>async function loadData(){const st=document.getElementById('status');st.textContent='Cargandoâ€¦';let data=null;try{if(window.__READ&&window.__READ.startsWith('http')){const r=await fetch(window.__READ,{mode:'cors'});data=await r.json();}}catch(e){}if(!Array.isArray(data)){data=[{timestamp:'2025-01-01T12:00:00Z',name:'Ana',email:'',score:21,total:25,seconds:420,ua:'Demo'},{timestamp:'2025-01-02T12:00:00Z',name:'Luis',email:'',score:18,total:25,seconds:510,ua:'Demo'},{timestamp:'2025-01-03T12:00:00Z',name:'SofÃ­a',email:'',score:24,total:25,seconds:380,ua:'Demo'}];st.textContent='Demo (configura SHEETS_READ_ENDPOINT)';}else{st.textContent='OK';}render(data);}function render(rows){const tb=document.querySelector('#tbl tbody');tb.innerHTML='';let total=rows.length,sum=0,times=[],pass=0;rows.forEach(r=>{const tr=document.createElement('tr');const pct=Math.round(100*r.score/(r.total||25));if(pct>=60)pass++;sum+=pct;times.push(r.seconds||0);tr.innerHTML='<td>'+new Date(r.timestamp).toLocaleString()+'</td><td>'+(r.name||'')+'</td><td>'+(r.email||'')+'</td><td>'+r.score+'/'+r.total+' ('+pct+'%)</td><td>'+(r.seconds||0)+'</td><td>'+(r.ua||'')+'</td>';tb.appendChild(tr);});const avg=total?Math.round(sum/total):0;const avgTime=total?Math.round(times.reduce((a,b)=>a+b,0)/total):0;document.getElementById('stats').innerHTML=`<div class="card"><strong>Intentos</strong><div style="font-size:1.6rem">${total}</div></div><div class="card"><strong>Promedio (%)</strong><div style="font-size:1.6rem">${avg}</div></div><div class="card"><strong>AprobaciÃ³n (â‰¥60%)</strong><div style="font-size:1.6rem">${Math.round(100*pass/(total||1))}%</div></div><div class="card"><strong>Tiempo promedio (s)</strong><div style="font-size:1.6rem">${avgTime}</div></div>`;}loadData();</script></body></html>