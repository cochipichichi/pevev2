<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>ğŸ§ª Quiz Historia 8Â° bÃ¡sico â€“ PEVE</title>
<link href="../../../../assets/css/style.css" rel="stylesheet"/>
<link href="../../../../assets/css/peve-cards.css" rel="stylesheet"/>
<link href="../../../../assets/logo.svg" rel="icon" type="image/svg+xml"/>

<script defer="" src="../../../../assets/js/config.js"></script>
<script defer="" src="../../../../assets/js/peve-backend.js"></script>
<link href="../../../../assets/css/theme.css" rel="stylesheet"/></head>
<body class="theme-dark">
<header class="topbar">
<div class="topbar-left">
<div aria-hidden="true" class="logo-circle">ğŸ“š</div>
<div class="brand-text">
<span class="brand-name" data-i18n="c.peve_a61b37fe">PEVE</span>
<span class="brand-subtitle" data-i18n="c.plataforma_de_exÃ¡menes_de_validaciÃ³n_de_e650314b">Plataforma de ExÃ¡menes de ValidaciÃ³n de Estudios</span>
</div>
</div>
<nav aria-label="NavegaciÃ³n principal" class="topbar-nav" data-i18n-aria-label="c.attr.aria-label.navegaciÃ³n_principal_86058c13">
<a class="nav-link" data-i18n="nav.inicio" href="../../../../../index.html">Inicio</a>
<a class="nav-link" data-i18n="nav.proceso" href="../../../../../pages/info.html">Proceso</a>
<a class="nav-link" data-i18n="nav.niveles" href="../../../../../pages/niveles.html">Niveles</a>
<a class="nav-link" data-i18n="nav.asignaturas" href="../../../../../pages/asignaturas.html">Asignaturas</a>
<a class="nav-link" data-i18n="nav.perfiles" href="../../../../../pages/perfiles.html">Perfiles</a>
<a class="nav-link" data-i18n="nav.accesibilidad" href="../../../../../pages/accesibilidad.html">Accesibilidad</a>
<a class="nav-link" data-i18n="nav.acerca" href="../../../../../pages/acerca.html">Acerca de</a>
</nav>
<div aria-label="Controles de accesibilidad" class="accessibility-toolbar" data-i18n-aria-label="c.attr.aria-label.controles_de_accesibilidad_e1513252">
<button class="access-btn" data-action="home" data-home="../../../../../index.html" data-i18n-title="c.attr.title.ir_al_inicio_115d499a" title="Ir al inicio">ğŸ </button>
<button class="access-btn" data-action="narrator" data-i18n-title="c.attr.title.leer_el_contenido_de_la_pÃ¡gina_b153cdac" title="Leer el contenido de la pÃ¡gina">ğŸ—£ï¸</button>
<button class="access-btn" data-action="toggle-theme" data-i18n-title="c.attr.title.cambiar_tema_clarooscuro_c39e5dae" title="Cambiar tema claro/oscuro">ğŸŒ“</button>
<button class="access-btn" data-action="font-inc" data-i18n-title="c.attr.title.aumentar_tamaÃ±o_de_letra_e7bb9209" title="Aumentar tamaÃ±o de letra">A+</button>
<button class="access-btn" data-action="font-dec" data-i18n-title="c.attr.title.disminuir_tamaÃ±o_de_letra_75a8c21b" title="Disminuir tamaÃ±o de letra">Aâˆ’</button>
<button class="access-btn" data-action="lang" data-i18n-title="c.attr.title.cambiar_idioma_esenfr_9e345c96" title="Cambiar idioma ES/EN/FR">ğŸŒ</button>
<button class="access-btn" data-action="guide" data-i18n-title="c.attr.title.mostrar_guÃ­a_paso_a_paso_c06bf245" title="Mostrar guÃ­a paso a paso">ğŸ§ </button>
<button class="access-btn" data-action="search" data-i18n-title="c.attr.title.buscar_en_esta_pÃ¡gina_90fa8efb" title="Buscar en esta pÃ¡gina">ğŸ”</button>
</div>
</header>
<main class="page-main" id="main-content">
<section class="section">
<header class="section-header">
<h1 data-i18n="p.content__8basico__historia-geografia__quiz__quiz.0001">ğŸ§ª Quiz de prÃ¡ctica â€“ Historia y GeografÃ­a 8Â° bÃ¡sico</h1>
<p data-i18n="p.content__8basico__historia-geografia__quiz__quiz.0002">Responde estas preguntas tipo PEVE basadas en el banco de Historia 8Â°. Al final podrÃ¡s ver tu puntaje y quÃ© Ã­tems revisar.</p>
</header>
<form class="quiz-form" id="quiz-form">
<div class="quiz-intro">
<label>
          Nombre del estudiante:
          <input id="student-name" required="" type="text"/>
</label>
<label>
          Curso:
          <input data-i18n-placeholder="c.attr.placeholder.8_bÃ¡sico_b641b389" id="student-course" placeholder="8Â° bÃ¡sico" type="text"/>
</label>
</div>
<div class="quiz-items" id="quiz-items">
<!-- Preguntas se inyectan vÃ­a JS -->
</div>
<div class="quiz-actions">
<button class="btn btn-solid" data-i18n="c.enviar_respuestas_849cf6a5" type="submit">âœ… Enviar respuestas</button>
<button class="btn btn-outline" data-i18n="c.limpiar_intento_9c40ed82" id="reset-quiz" type="button">â™» Limpiar intento</button>
</div>
</form>
<section class="quiz-results" hidden="" id="quiz-results">
<h2 data-i18n="c.resultados_b164a1ab">Resultados</h2>
<p id="score-text"></p>
<table class="results-table">
<thead>
<tr>
<th>#</th>
<th data-i18n="c.oa__tema_1bbb1034">OA / Tema</th>
<th data-i18n="c.tu_respuesta_d731e738">Tu respuesta</th>
<th data-i18n="c.correcta_56b8d6b5">Correcta</th>
</tr>
</thead>
<tbody id="results-body"></tbody>
</table>
</section>
</section>
</main>
<footer class="footer small">
<div class="footer-inner">
<div class="footer-bar">
<div class="logo">
<img alt="Neotech EduLab" class="logo-img" data-i18n-alt="c.attr.alt.neotech_edulab_ef78e95d" onerror="this.style.display='none'" src="../../../../assets/logo.svg"/>
<div><strong>Â© <strong data-i18n="c.neotech_edulab_985e1a35">Neotech EduLab</strong>-EducaciÃ³n Inmersiva</strong></div>
<small data-i18n="c.prohibida_su_copia_yo_reproducciÃ³n_d83cfd46">ğŸ› ï¸Prohibida su copia y/o reproducciÃ³n</small>
</div>
</div>
<div class="footer-text">
<p>Â© 2025 <strong data-i18n="c.peve_63155b10">ğŸ“šPEVE</strong> â€“ Plataforma de ExÃ¡menes de ValidaciÃ³n de Estudios Â· Hecho con â¤ï¸ y enfoque inclusivo.</p>
<p class="footer-note" data-i18n="c.peve_es_un_recurso_pedagÃ³gico_complement_a28eeb20">
          PEVE es un recurso pedagÃ³gico complementario. La inscripciÃ³n, rendiciÃ³n y certificaciÃ³n de ExÃ¡menes Libres
          depende exclusivamente del Ministerio de EducaciÃ³n de Chile y sus canales oficiales.
        </p>
</div>
</div>
</footer>
<script>
// Subconjunto de preguntas inspiradas en el banco PEVE de Historia 8Â°.
const QUESTIONS = [
  {
    id: 1,
    oa: "HI08 OA02-04",
    prompt: "Â¿QuÃ© cambios permitiÃ³ la imprenta en la Europa de la Edad Moderna?",
    options: [
      "FacilitÃ³ la difusiÃ³n de ideas cientÃ­ficas y religiosas, permitiendo cuestionar la autoridad de la Iglesia.",
      "FortaleciÃ³ el control de la Iglesia al limitar el acceso a los libros.",
      "EliminÃ³ los conflictos religiosos entre catÃ³licos y protestantes.",
      "EvitÃ³ la circulaciÃ³n de panfletos polÃ­ticos y religiosos."
    ],
    answer: 0
  },
  {
    id: 2,
    oa: "HI08 OA07",
    prompt: "Un rasgo central de las monarquÃ­as absolutas europeas fue:",
    options: [
      "La separaciÃ³n estricta de poderes entre rey y parlamento.",
      "La concentraciÃ³n del poder polÃ­tico en la figura del rey.",
      "La elecciÃ³n periÃ³dica del rey por votaciÃ³n popular.",
      "La desapariciÃ³n de la nobleza y el clero."
    ],
    answer: 1
  },
  {
    id: 3,
    oa: "HI08 OA11",
    prompt: "En la sociedad colonial americana, los criollos se caracterizaban por:",
    options: [
      "Ser descendientes de europeos nacidos en AmÃ©rica.",
      "Ser indÃ­genas que se habÃ­an convertido al cristianismo.",
      "Ser esclavos africanos reciÃ©n llegados al continente.",
      "Ser funcionarios enviados directamente desde EspaÃ±a."
    ],
    answer: 0
  },
  {
    id: 4,
    oa: "HI08 OA21",
    prompt: "Una idea fundamental de la IlustraciÃ³n fue que:",
    options: [
      "La autoridad del rey provenÃ­a directamente de Dios y no debÃ­a cuestionarse.",
      "La razÃ³n y el conocimiento podÃ­an mejorar la sociedad y la polÃ­tica.",
      "Las tradiciones debÃ­an mantenerse sin cambios a lo largo del tiempo.",
      "Solo la nobleza podÃ­a participar de la vida polÃ­tica."
    ],
    answer: 1
  },
  {
    id: 5,
    oa: "GeografÃ­a / Medioambiente",
    prompt: "Un conflicto socioambiental se produce cuando:",
    options: [
      "Solo hay escasez de recursos naturales.",
      "Las decisiones sobre el uso del territorio generan tensiones entre actores con intereses distintos.",
      "Los paÃ­ses firman acuerdos para proteger el medioambiente.",
      "Se incrementa el Ãndice de Desarrollo Humano (IDH) en una regiÃ³n."
    ],
    answer: 1
  }
];

const quizContainer = document.getElementById("quiz-items");
const form = document.getElementById("quiz-form");
const resultsSection = document.getElementById("quiz-results");
const resultsBody = document.getElementById("results-body");
const scoreText = document.getElementById("score-text");
const resetBtn = document.getElementById("reset-quiz");

function renderQuiz() {
  quizContainer.innerHTML = "";
  QUESTIONS.forEach((q, idx) => {
    const block = document.createElement("article");
    block.className = "quiz-item";
    block.innerHTML = `
      <h3>Pregunta ${idx + 1} <small>(${q.oa})</small></h3>
      <p>${q.prompt}</p>
      <div class="quiz-options">
        ${
          q.options.map((opt, i) => `
            <label class="quiz-option">
              <input type="radio" name="q${q.id}" value="${i}" required />
              <span>${opt}</span>
            </label>
          `).join("")
        }
      </div>
    `;
    quizContainer.appendChild(block);
  });
}

form.addEventListener("submit", (e) => {
  e.preventDefault();
  let correct = 0;
  resultsBody.innerHTML = "";

  QUESTIONS.forEach((q, idx) => {
    const selected = form.querySelector(`input[name="q${q.id}"]:checked`);
    const selectedIndex = selected ? parseInt(selected.value, 10) : -1;
    const isCorrect = selectedIndex === q.answer;
    if (isCorrect) correct++;

    const row = document.createElement("tr");
    row.innerHTML = `
      <td>${idx + 1}</td>
      <td>${q.oa}</td>
      <td>${selectedIndex >= 0 ? q.options[selectedIndex] : "â€”"}</td>
      <td>${q.options[q.answer]}</td>
    `;
    row.classList.add(isCorrect ? "row-correct" : "row-incorrect");
    resultsBody.appendChild(row);
  });

  const scorePercent = Math.round((correct / QUESTIONS.length) * 100);
  scoreText.textContent = `Aciertos: ${correct} de ${QUESTIONS.length} (${scorePercent}%).`;
  resultsSection.hidden = false;

  const payload = {
    name: document.getElementById("student-name").value || "",
    course: document.getElementById("student-course").value || "",
    correct,
    total: QUESTIONS.length,
    scorePercent,
    ts: new Date().toISOString()
  };
  try {
    const key = "peve_historia8_quiz";
    const prev = JSON.parse(localStorage.getItem(key) || "[]");
    prev.push(payload);
    localStorage.setItem(key, JSON.stringify(prev));
  } catch (err) {
    console.warn("No se pudo guardar en localStorage", err);
  }

  // Enviar tambiÃ©n a Google Sheets vÃ­a Apps Script (modo demo)
  if (window.PEVE_BACKEND) {
    window.PEVE_BACKEND.sendQuizResult({
      userName: payload.name,
      course: payload.course || "8Â° BÃ¡sico",
      module: "Historia y GeografÃ­a 8Â° â€“ Quiz demo",
      score: correct,
      max: QUESTIONS.length,
      q1: "Historia 8Â°",
      q2: "Quiz banco PEVE"
    }).then((res) => {
      if (res && res.status === "ok") {
        console.log("[PEVE] Quiz enviado a Sheets");
      } else {
        console.warn("[PEVE] No se pudo enviar quiz a Sheets", res);
      }
    }).catch((err) => {
      console.warn("[PEVE] Error al enviar quiz a Sheets", err);
    });
  }
});

resetBtn.addEventListener("click", () => {
  form.reset();
  resultsSection.hidden = true;
});

renderQuiz();
</script>
<script src="../../../../assets/js/accessibility.js"></script></body>
</html>
